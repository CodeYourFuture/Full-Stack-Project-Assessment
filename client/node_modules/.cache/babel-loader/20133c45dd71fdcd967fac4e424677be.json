{"ast":null,"code":"var _jsxFileName = \"/Users/mehmetomer/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport React, { useState, useEffect } from \"react\"; // import data from './data';\n\nimport Video from './Video';\nimport AddVideo from \"./AddVideo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [videos, setVideos] = useState([]);\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/\");\n      const data = await response.json();\n      setVideos(data);\n    } catch (error) {\n      console.error(\"Error fetching videos:\", error);\n    }\n  };\n\n  const handleRemoveVideo = async id => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, {\n        method: \"DELETE\"\n      });\n      setVideos(videos.filter(video => video.id !== id));\n    } catch (error) {\n      console.error(\"Error deleting video:\", error);\n    }\n  };\n\n  const handleUpVote = async id => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, {\n        method: \"PUT\"\n      });\n      setVideos(prevVideos => prevVideos.map(video => {\n        if (video.id === id) {\n          return { ...video,\n            rating: video.rating + 1\n          };\n        }\n\n        return video;\n      }));\n    } catch (error) {\n      console.error(\"Error upvoting video:\", error);\n    }\n  };\n\n  const handleDownVote = async id => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, {\n        method: \"PUT\"\n      });\n      setVideos(prevVideos => prevVideos.map(video => {\n        if (video.id === id) {\n          return { ...video,\n            rating: Math.max(0, video.rating - 1)\n          };\n        }\n\n        return video;\n      }));\n    } catch (error) {\n      console.error(\"Error downvoting video:\", error);\n    }\n  };\n\n  const handleAddVideo = async video => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(video)\n      });\n      const data = await response.json();\n      setVideos(prevVideos => [...prevVideos, {\n        id: data.id,\n        ...video\n      }]);\n    } catch (error) {\n      console.error(\"Error adding video:\", error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Video Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddVideo, {\n        onAdd: handleAddVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(Video, {\n        video: video,\n        onRemove: () => handleRemoveVideo(video.id),\n        onUpVote: () => handleUpVote(video.id),\n        onDownVote: () => handleDownVote(video.id)\n      }, video.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"39g9r2hk3cJXA16k+db4Z3Rqykw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/mehmetomer/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useState","useEffect","Video","AddVideo","App","videos","setVideos","fetchVideos","response","fetch","data","json","error","console","handleRemoveVideo","id","method","filter","video","handleUpVote","prevVideos","map","rating","handleDownVote","Math","max","handleAddVideo","headers","body","JSON","stringify"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport React, { useState, useEffect} from \"react\";\n// import data from './data';\nimport Video from './Video';\nimport AddVideo from \"./AddVideo\";\n\nfunction App() {\n  const [videos, setVideos] = useState([]);\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/\");\n      const data = await response.json();\n      setVideos(data);\n    } catch (error) {\n      console.error(\"Error fetching videos:\", error);\n    }\n  };\n\n  const handleRemoveVideo = async (id) => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, { method: \"DELETE\" });\n      setVideos(videos.filter((video) => video.id !== id));\n    } catch (error) {\n      console.error(\"Error deleting video:\", error);\n    }\n  };\n\n  const handleUpVote = async (id) => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, { method: \"PUT\" });\n      setVideos((prevVideos) =>\n        prevVideos.map((video) => {\n          if (video.id === id) {\n            return { ...video, rating: video.rating + 1 };\n          }\n          return video;\n        })\n      );\n    } catch (error) {\n      console.error(\"Error upvoting video:\", error);\n    }\n  };\n\n  const handleDownVote = async (id) => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, { method: \"PUT\" });\n      setVideos((prevVideos) =>\n        prevVideos.map((video) => {\n          if (video.id === id) {\n            return { ...video, rating: Math.max(0, video.rating - 1) };\n          }\n          return video;\n        })\n      );\n    } catch (error) {\n      console.error(\"Error downvoting video:\", error);\n    }\n  };\n\n  const handleAddVideo = async (video) => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(video),\n      });\n      const data = await response.json();\n      setVideos((prevVideos) => [...prevVideos, { id: data.id, ...video }]);\n    } catch (error) {\n      console.error(\"Error adding video:\", error);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"App-header\">\n        <h1>Video Recommendation</h1>\n        <AddVideo onAdd={handleAddVideo} />\n      </div>\n      <div className=\"App\">\n        {videos.map((video) => (\n          <Video\n            key={video.id}\n            video={video}\n            onRemove={() => handleRemoveVideo(video.id)}\n            onUpVote={() => handleUpVote(video.id)}\n            onDownVote={() => handleDownVote(video.id)}\n          />\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}