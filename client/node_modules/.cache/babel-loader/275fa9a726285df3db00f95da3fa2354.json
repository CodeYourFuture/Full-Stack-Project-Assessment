{"ast":null,"code":"var _jsxFileName = \"/Users/roozbehshokri/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Video from \"./Video\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [items, setItems] = useState(null);\n  const [search, setSearch] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isAscending, setIsAscending] = useState(false);\n  const [isAdding, setIsAdding] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get( // `https://full-stack-assessment.onrender.com/videos?ordering=${\n        //   isAscending ? \"asc\" : \"desc\"\n        // }`\n        `http://localhost:5009/videos?ordering=${isAscending ? \"asc\" : \"desc\"}`);\n        setIsLoading(true);\n        setItems(response.data);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchData();\n  }, [isAscending, isAdding]);\n\n  const orderHandler = e => {\n    setIsAscending(!isAscending);\n  };\n\n  const searchHandler = async () => {\n    const res = await axios.get(`https://full-stack-assessment.onrender.com/search/?title=${search}`);\n    setItems(res.data);\n  };\n\n  const openHandler = () => {\n    setIsOpen(true);\n  };\n\n  const cancelHandler = () => {\n    setIsOpen(false);\n  };\n\n  const urlHandler = event => {\n    setUrl(event.target.value);\n  };\n\n  const titleHandler = event => {\n    setTitle(event.target.value);\n  };\n\n  const validateUrl = value => {\n    // Regular expression for URL validation\n    const urlRegex = /^(ftp|http|https):\\/\\/[^ \"]+$/;\n\n    if (!value || !urlRegex.test(value)) {\n      alert(\"Please enter a valid URL\");\n    }\n\n    return null; // Return null for no validation errors\n  };\n\n  const addClickHandler = async e => {\n    e.preventDefault();\n\n    if (!title) {\n      alert(\"Please enter a title\");\n      return;\n    }\n\n    validateUrl(url);\n\n    try {\n      const response = await axios.post(\"https://full-stack-assessment.onrender.com/video\", {\n        title: title.toLowerCase(),\n        url: url.split(\"watch?v=\")[1]\n      });\n      setTitle(\"\");\n      setUrl(\"\");\n      alert(\"Video has been sent\"); // // window.location.reload();\n    } catch (e) {\n      console.log(e);\n    }\n\n    setIsAdding(!isAdding);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header bg-primary py-4 custom-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center mb-0\",\n        children: \"Video Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"p-4\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"link\",\n            onClick: openHandler,\n            children: \"Add Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), isOpen && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                onChange: titleHandler,\n                value: title,\n                placeholder: \"Title\",\n                \"aria-label\": \"Title\",\n                \"aria-describedby\": \"basic-addon1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                children: \"URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                onChange: urlHandler,\n                value: url,\n                placeholder: \"Youtube URL\",\n                \"aria-label\": \"URL\",\n                \"aria-describedby\": \"basic-addon1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-success\",\n              onClick: addClickHandler,\n              className: \"mr-3\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-warning\",\n              onClick: cancelHandler,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: orderHandler,\n            id: \"asc-btn\",\n            children: isAscending ? \"Descending\" : \"Ascending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n            className: \"mb-3 mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              placeholder: \"Search...\",\n              \"aria-label\": \"Search\",\n              \"aria-describedby\": \"basic-addon1\",\n              onChange: e => setSearch(e.target.value),\n              value: search\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: searchHandler,\n              className: \"mr-5\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        xs: 1,\n        sm: 2,\n        md: 3,\n        children: [!isLoading && /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 26\n        }, this), items && items.map(item => /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Video, {\n            info: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 17\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Qp1v8PllkkyVNtlw0AJFOQFfvPI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/roozbehshokri/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useEffect","useState","axios","Button","Form","InputGroup","Container","Row","Col","Video","App","title","setTitle","url","setUrl","items","setItems","search","setSearch","isOpen","setIsOpen","isLoading","setIsLoading","isAscending","setIsAscending","isAdding","setIsAdding","fetchData","response","get","data","e","console","log","orderHandler","searchHandler","res","openHandler","cancelHandler","urlHandler","event","target","value","titleHandler","validateUrl","urlRegex","test","alert","addClickHandler","preventDefault","post","toLowerCase","split","map","item","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Video from \"./Video\";\n\nfunction App() {\n  const [title, setTitle] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [items, setItems] = useState(null);\n  const [search, setSearch] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isAscending, setIsAscending] = useState(false);\n  const [isAdding, setIsAdding] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          // `https://full-stack-assessment.onrender.com/videos?ordering=${\n          //   isAscending ? \"asc\" : \"desc\"\n          // }`\n          `http://localhost:5009/videos?ordering=${\n            isAscending ? \"asc\" : \"desc\"\n          }`\n        );\n        setIsLoading(true);\n        setItems(response.data);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchData();\n  }, [isAscending, isAdding]);\n\n  const orderHandler = (e) => {\n    setIsAscending(!isAscending);\n  };\n\n  const searchHandler = async () => {\n    const res = await axios.get(\n      `https://full-stack-assessment.onrender.com/search/?title=${search}`\n    );\n    setItems(res.data);\n  };\n\n  const openHandler = () => {\n    setIsOpen(true);\n  };\n\n  const cancelHandler = () => {\n    setIsOpen(false);\n  };\n\n  const urlHandler = (event) => {\n    setUrl(event.target.value);\n  };\n\n  const titleHandler = (event) => {\n    setTitle(event.target.value);\n  };\n\n  const validateUrl = (value) => {\n    // Regular expression for URL validation\n    const urlRegex = /^(ftp|http|https):\\/\\/[^ \"]+$/;\n    if (!value || !urlRegex.test(value)) {\n      alert(\"Please enter a valid URL\");\n    }\n    return null; // Return null for no validation errors\n  };\n\n  const addClickHandler = async (e) => {\n    e.preventDefault();\n    if (!title) {\n      alert(\"Please enter a title\");\n      return;\n    }\n    validateUrl(url);\n    try {\n      const response = await axios.post(\n        \"https://full-stack-assessment.onrender.com/video\",\n        {\n          title: title.toLowerCase(),\n          url: url.split(\"watch?v=\")[1],\n        }\n      );\n      setTitle(\"\");\n      setUrl(\"\");\n      alert(\"Video has been sent\");\n      // // window.location.reload();\n    } catch (e) {\n      console.log(e);\n    }\n    setIsAdding(!isAdding);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header bg-primary py-4 custom-header\">\n        <h1 className=\"text-center mb-0\">Video Recommendation</h1>\n      </header>\n\n      <Container className=\"p-4\">\n        <Row>\n          <Col md={4} className=\"mb-4\">\n            <Button variant=\"link\" onClick={openHandler}>\n              Add Video\n            </Button>\n            {isOpen && (\n              <>\n                <InputGroup className=\"mb-3\">\n                  <InputGroup.Text>Title</InputGroup.Text>\n                  <Form.Control\n                    onChange={titleHandler}\n                    value={title}\n                    placeholder=\"Title\"\n                    aria-label=\"Title\"\n                    aria-describedby=\"basic-addon1\"\n                  />\n                </InputGroup>\n                <InputGroup className=\"mb-3\">\n                  <InputGroup.Text>URL</InputGroup.Text>\n                  <Form.Control\n                    onChange={urlHandler}\n                    value={url}\n                    placeholder=\"Youtube URL\"\n                    aria-label=\"URL\"\n                    aria-describedby=\"basic-addon1\"\n                  />\n                </InputGroup>\n                <br />\n                <Button\n                  variant=\"outline-success\"\n                  onClick={addClickHandler}\n                  className=\"mr-3\"\n                >\n                  Add\n                </Button>\n                <Button variant=\"outline-warning\" onClick={cancelHandler}>\n                  Cancel\n                </Button>\n              </>\n            )}\n          </Col>\n          <Col>\n            <Button onClick={orderHandler} id=\"asc-btn\">\n              {isAscending ? \"Descending\" : \"Ascending\"}\n            </Button>\n          </Col>\n          <Col md={4}>\n            <InputGroup className=\"mb-3 mt-3\">\n              <Form.Control\n                placeholder=\"Search...\"\n                aria-label=\"Search\"\n                aria-describedby=\"basic-addon1\"\n                onChange={(e) => setSearch(e.target.value)}\n                value={search}\n              />\n              <Button onClick={searchHandler} className=\"mr-5\">\n                Search\n              </Button>\n            </InputGroup>\n          </Col>\n        </Row>\n      </Container>\n      <Container>\n        <Row xs={1} sm={2} md={3}>\n          {!isLoading && <h1>Loading...</h1>}\n          {items &&\n            items.map((item) => (\n              <Col key={item.id}>\n                <Video info={item} />\n              </Col>\n            ))}\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}