{"ast":null,"code":"var _jsxFileName = \"/Users/anuthapaliya/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css'; // import videosData from './exampleresponse.json';\n\nimport AddNewVideo from './AddNewVideo';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [videos, setVideos] = useState([]); // videosData.sort((a,b) => b.rating - a.rating)\n\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/videos');\n      setVideos(response.data);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n    }\n  };\n\n  const addVideoButton = NewVideo => {\n    setVideos([...videos, NewVideo]);\n  };\n\n  const handleUpVote = id => {\n    const updatedVideos = [...videos].map(video => {\n      if (video.id === id) {\n        return { ...video,\n          rating: video.rating + 1\n        };\n      } else {\n        return video;\n      }\n    });\n    const sortedVideos = updatedVideos.sort((a, b) => b.rating - a.rating);\n    setVideos(sortedVideos);\n    console.log(\"After ascending sort:\", updatedVideos);\n  };\n\n  const handleDownVote = id => {\n    const updatedVideos = [...videos].map(video => {\n      if (video.id === id) {\n        return { ...video,\n          rating: video.rating - 1\n        };\n      } else {\n        return video;\n      }\n    });\n    setVideos(updatedVideos.sort((a, b) => b.rating - a.rating));\n    console.log(\"After descending sort:\", updatedVideos);\n  };\n\n  const handleRemoveVideo = id => {\n    const updatedVideos = videos.filter(video => video.id !== id);\n    setVideos(updatedVideos);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Video Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddNewVideo, {\n      addVideoButton: addVideoButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-list\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: video.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          width: \"560\",\n          height: \"315\",\n          src: `https://www.youtube.com/embed/${video.url.split('v=')[1]}`,\n          title: video.title,\n          frameBorder: \"0\",\n          allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Rating: \", video.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Uploaded Date: \", new Date(video.uploadDate).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpVote(video.id),\n          children: \"Up Vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDownVote(video.id),\n          children: \"Down Vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRemoveVideo(video.id),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this)]\n      }, video.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 10\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"39g9r2hk3cJXA16k+db4Z3Rqykw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/anuthapaliya/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useState","useEffect","AddNewVideo","axios","App","videos","setVideos","fetchVideos","response","get","data","error","console","addVideoButton","NewVideo","handleUpVote","id","updatedVideos","map","video","rating","sortedVideos","sort","a","b","log","handleDownVote","handleRemoveVideo","filter","title","url","split","Date","uploadDate","toLocaleString"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,WAAP,C,CACA;;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,EAAD,CAApC,CADa,CAEb;;AAIFC,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAU,8BAAV,CAAvB;AACAH,MAAAA,SAAS,CAACE,QAAQ,CAACE,IAAV,CAAT;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAc,wBAAd,EAAwCA,KAAxC;AACD;AACF,GAPD;;AAUE,QAAME,cAAc,GAAIC,QAAD,IAAc;AACnCR,IAAAA,SAAS,CAAC,CAAC,GAAGD,MAAJ,EAAYS,QAAZ,CAAD,CAAT;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAIC,EAAD,IAAQ;AAC3B,UAAMC,aAAa,GAAG,CAAC,GAAGZ,MAAJ,EAAYa,GAAZ,CAAiBC,KAAD,IAAW;AACjD,UAAGA,KAAK,CAACH,EAAN,KAAaA,EAAhB,EAAoB;AAChB,eAAO,EAAC,GAAGG,KAAJ;AAAWC,UAAAA,MAAM,EAAED,KAAK,CAACC,MAAN,GAAe;AAAlC,SAAP;AACH,OAFD,MAEO;AACL,eAAOD,KAAP;AACD;AACF,KANuB,CAAtB;AASF,UAAME,YAAY,GAAGJ,aAAa,CAACK,IAAd,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACJ,MAAF,GAAWG,CAAC,CAACH,MAA1C,CAArB;AAEAd,IAAAA,SAAS,CAACe,YAAD,CAAT;AACCT,IAAAA,OAAO,CAACa,GAAR,CAAY,uBAAZ,EAAqCR,aAArC;AAEF,GAfC;;AAiBF,QAAMS,cAAc,GAAIV,EAAD,IAAQ;AAC7B,UAAMC,aAAa,GAAG,CAAC,GAAGZ,MAAJ,EAAYa,GAAZ,CAAiBC,KAAD,IAAW;AAC/C,UAAIA,KAAK,CAACH,EAAN,KAAaA,EAAjB,EAAqB;AACnB,eAAO,EAAC,GAAGG,KAAJ;AAAWC,UAAAA,MAAM,EAAED,KAAK,CAACC,MAAN,GAAc;AAAjC,SAAP;AACD,OAFD,MAEO;AACL,eAAOD,KAAP;AACD;AACF,KANqB,CAAtB;AAUAb,IAAAA,SAAS,CAACW,aAAa,CAACK,IAAd,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACJ,MAAF,GAAWG,CAAC,CAACH,MAA1C,CAAD,CAAT;AAEFR,IAAAA,OAAO,CAACa,GAAR,CAAY,wBAAZ,EAAsCR,aAAtC;AAEG,GAfH;;AAiBE,QAAMU,iBAAiB,GAAIX,EAAD,IAAQ;AAChC,UAAMC,aAAa,GAAGZ,MAAM,CAACuB,MAAP,CAAeT,KAAD,IAAWA,KAAK,CAACH,EAAN,KAAaA,EAAtC,CAAtB;AACAV,IAAAA,SAAS,CAACW,aAAD,CAAT;AACD,GAHD;;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA,6BACE;AAAA,kBAAI;AAAJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,WAAD;AAAa,MAAA,cAAc,EAAEJ;AAA7B;AAAA;AAAA;AAAA;AAAA,YALF,eAMG;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,gBAEER,MAAM,CAACa,GAAP,CAAYC,KAAD,iBACX;AAAoB,QAAA,SAAS,EAAC,YAA9B;AAAA,gCACC;AAAA,oBAAKA,KAAK,CAACU;AAAX;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AACA,UAAA,KAAK,EAAC,KADN;AAEA,UAAA,MAAM,EAAC,KAFP;AAGD,UAAA,GAAG,EAAG,iCAAgCV,KAAK,CAACW,GAAN,CAAUC,KAAV,CAAgB,IAAhB,EAAsB,CAAtB,CAAyB,EAH9D;AAIA,UAAA,KAAK,EAAEZ,KAAK,CAACU,KAJb;AAKA,UAAA,WAAW,EAAC,GALZ;AAMA,UAAA,KAAK,EAAC,0FANN;AAOA,UAAA,eAAe;AAPf;AAAA;AAAA;AAAA;AAAA,gBAFD,eAUC;AAAA,qBAAG,UAAH,EAAYV,KAAK,CAACC,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVD,eAWC;AAAA,qBAAG,iBAAH,EAAmB,IAAIY,IAAJ,CAASb,KAAK,CAACc,UAAf,EAA2BC,cAA3B,EAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXD,eAaD;AAAQ,UAAA,OAAO,EAAE,MAAMnB,YAAY,CAACI,KAAK,CAACH,EAAP,CAAnC;AAAA,oBAA+C;AAA/C;AAAA;AAAA;AAAA;AAAA,gBAbC,eAcD;AAAQ,UAAA,OAAO,EAAE,MAAMU,cAAc,CAACP,KAAK,CAACH,EAAP,CAArC;AAAA,oBAAiD;AAAjD;AAAA;AAAA;AAAA;AAAA,gBAdC,eAeD;AAAQ,UAAA,OAAO,EAAE,MAAMW,iBAAiB,CAACR,KAAK,CAACH,EAAP,CAAxC;AAAA,oBAAoD;AAApD;AAAA;AAAA;AAAA;AAAA,gBAfC;AAAA,SAAUG,KAAK,CAACH,EAAhB;AAAA;AAAA;AAAA;AAAA,cADA;AAFF;AAAA;AAAA;AAAA;AAAA,YANH;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgCD;;GAhGQZ,G;;KAAAA,G;AAkGT,eAAeA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n// import videosData from './exampleresponse.json';\nimport AddNewVideo from './AddNewVideo';\nimport axios from 'axios';\n\nfunction App() {\n  const [videos, setVideos] = useState([]);\n  // videosData.sort((a,b) => b.rating - a.rating)\n\n\n\nuseEffect(() => {\n  fetchVideos();\n}, []);\n\nconst fetchVideos = async () => {\n  try {\n    const response = await axios.get('http://localhost:8000/videos');\n    setVideos(response.data);\n  } catch (error) {\n    console.error('Error fetching videos:', error);\n  }\n};\n\n\n  const addVideoButton = (NewVideo) => {\n    setVideos([...videos, NewVideo]);\n  }\n\n  const handleUpVote = (id) => {\n    const updatedVideos = [...videos].map((video) => {\n    if(video.id === id) {\n        return {...video, rating: video.rating + 1 };\n    } else {\n      return video;\n    }\n  });\n    \n\n  const sortedVideos = updatedVideos.sort((a, b) => b.rating - a.rating);\n\n  setVideos(sortedVideos)\n   console.log(\"After ascending sort:\", updatedVideos)\n\n};\n\nconst handleDownVote = (id) => {\n  const updatedVideos = [...videos].map((video) => {\n    if (video.id === id) {\n      return {...video, rating: video.rating -1 };\n    } else {\n      return video;\n    }\n  });\n\n \n\n  setVideos(updatedVideos.sort((a, b) => b.rating - a.rating));\n\nconsole.log(\"After descending sort:\", updatedVideos);\n \n  };\n\n  const handleRemoveVideo = (id) => {\n    const updatedVideos = videos.filter((video) => video.id !== id);\n    setVideos(updatedVideos);\n  };\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Video Recommendation</h1>\n      </header>\n\n      <AddNewVideo addVideoButton={addVideoButton} /> \n       <div className='video-list'> \n        \n        {videos.map((video) => (\n         <div key={video.id} className='video-card'>\n          <h2>{video.title}</h2>\n          <iframe\n          width=\"560\"\n          height=\"315\"\n         src={`https://www.youtube.com/embed/${video.url.split('v=')[1]}`}\n          title={video.title}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen></iframe>\n          <p>Rating: {video.rating}</p>\n          <p>Uploaded Date: {new Date(video.uploadDate).toLocaleString()}</p>\n          \n        <button onClick={() => handleUpVote(video.id)}>Up Vote</button>\n        <button onClick={() => handleDownVote(video.id)}>Down Vote</button>\n        <button onClick={() => handleRemoveVideo(video.id)}>Remove</button>\n</div>\n        ))}\n      </div>\n  \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}