{"ast":null,"code":"var _require = require('path'),\n  dirname = _require.dirname;\nvar mkdirpManual = function mkdirpManual(path, opts, made) {\n  opts.recursive = false;\n  var parent = dirname(path);\n  if (parent === path) {\n    return opts.mkdirAsync(path, opts).catch(function (er) {\n      // swallowed by recursive implementation on posix systems\n      // any other error is a failure\n      if (er.code !== 'EISDIR') throw er;\n    });\n  }\n  return opts.mkdirAsync(path, opts).then(function () {\n    return made || path;\n  }, function (er) {\n    if (er.code === 'ENOENT') return mkdirpManual(parent, opts).then(function (made) {\n      return mkdirpManual(path, opts, made);\n    });\n    if (er.code !== 'EEXIST' && er.code !== 'EROFS') throw er;\n    return opts.statAsync(path).then(function (st) {\n      if (st.isDirectory()) return made;else throw er;\n    }, function () {\n      throw er;\n    });\n  });\n};\nvar mkdirpManualSync = function mkdirpManualSync(path, opts, made) {\n  var parent = dirname(path);\n  opts.recursive = false;\n  if (parent === path) {\n    try {\n      return opts.mkdirSync(path, opts);\n    } catch (er) {\n      // swallowed by recursive implementation on posix systems\n      // any other error is a failure\n      if (er.code !== 'EISDIR') throw er;else return;\n    }\n  }\n  try {\n    opts.mkdirSync(path, opts);\n    return made || path;\n  } catch (er) {\n    if (er.code === 'ENOENT') return mkdirpManualSync(path, opts, mkdirpManualSync(parent, opts, made));\n    if (er.code !== 'EEXIST' && er.code !== 'EROFS') throw er;\n    try {\n      if (!opts.statSync(path).isDirectory()) throw er;\n    } catch (_) {\n      throw er;\n    }\n  }\n};\nmodule.exports = {\n  mkdirpManual: mkdirpManual,\n  mkdirpManualSync: mkdirpManualSync\n};","map":null,"metadata":{},"sourceType":"script"}