{"ast":null,"code":"var _jsxFileName = \"/Users/anuthapaliya/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './App.css';\nimport VideoDisplay from './VideoDisplay';\nimport AddNewVideo from './AddNewVideo';\nimport VideosData from './videosData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [videos, setVideos] = useState(videosData.sort((a, b) => b.rating - a.rating)); // const [ascending, setAscending] = useState(false);\n  // videosData.sort((a,b) => b.rating - a.rating)\n  // const fetchVideos = useCallback(async () => {\n  // try {\n  // const response = await axios.get(`http://127.0.0.1:8000/videos?order=${ascending ? 'asc' : 'desc'}`);\n  // // console.log('videos', response)\n  // setVideos(response.data);\n  // } catch (error) {\n  // console.error('Error fetching videos:', error);\n  // }\n  // }, [ascending]);\n  // useEffect(() => {\n  // fetchVideos();\n  // }, [fetchVideos]);\n  // const addVideoButton = (NewVideo) => {\n  // setVideos([...videos, NewVideo]);\n  // }\n\n  const handleUpVote = videoId => {\n    const updatedVideos = [...videos].map(video => {\n      if (video.id === videoId) {\n        return { ...video,\n          rating: video.rating + 1\n        };\n      } else {\n        return video;\n      }\n    });\n    setVideos(updatedVideos);\n  };\n\n  const handleDownVote = videoId => {\n    const updatedVideos = [...videos].map(video => {\n      if (video.id === videoId) {\n        return { ...video,\n          rating: video.rating - 1\n        };\n      } else {\n        return video;\n      }\n    });\n    setVideos(updatedVideos);\n  };\n\n  const handleRemoveVideo = videoId => {\n    const updatedVideos = videos.filter(video => video.id !== videoId);\n    setVideos(updatedVideos);\n  };\n\n  const handleAddVideo = newVideo => {\n    if (newVideo.title.trim() === '' || !isValidYouTubeUrl(newVideo.url)) {\n      return;\n    }\n\n    const now = new Date();\n    newVideo.uploadedDate = now.toISOString();\n    setVideos([...videos, newVideo]);\n  };\n\n  const isValidYouTubeUrl = url => {\n    try {\n      const youtubeUrl = new URL(url);\n      return youtubeUrl.hostname === 'www.youtube.com' || youtubeUrl.hostname === 'youtube.com';\n    } catch (error) {\n      return false;\n    }\n  }; // const handleChangeOrder = () => {\n  // setAscending(prevAscending => !prevAscending)\n  // };\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(AddNewVideo, {\n      addVideoButton: handleAddVideo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add a New Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-list\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-card\",\n        children: /*#__PURE__*/_jsxDEV(VideoDisplay, {\n          video: video,\n          handleUpVote: handleUpVote,\n          handleDownVote: handleDownVote,\n          handleRemoveVideo: handleRemoveVideo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 1\n        }, this)\n      }, video.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 1\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 1\n  }, this);\n}\n\n_s(App, \"oZBsmCJ6UQVcwSE3VAqscusl09U=\");\n\n_c = App;\n;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/anuthapaliya/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useState","VideoDisplay","AddNewVideo","VideosData","App","videos","setVideos","videosData","sort","a","b","rating","handleUpVote","videoId","updatedVideos","map","video","id","handleDownVote","handleRemoveVideo","filter","handleAddVideo","newVideo","title","trim","isValidYouTubeUrl","url","now","Date","uploadedDate","toISOString","youtubeUrl","URL","hostname","error"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport VideoDisplay from './VideoDisplay';\nimport AddNewVideo from './AddNewVideo';\nimport VideosData from './videosData';\n\n\nfunction App() {\nconst [videos, setVideos] = useState(videosData.sort((a, b)=> b.rating - a.rating));\n// const [ascending, setAscending] = useState(false);\n// videosData.sort((a,b) => b.rating - a.rating)\n\n\n\n\n// const fetchVideos = useCallback(async () => {\n// try {\n// const response = await axios.get(`http://127.0.0.1:8000/videos?order=${ascending ? 'asc' : 'desc'}`);\n// // console.log('videos', response)\n// setVideos(response.data);\n// } catch (error) {\n// console.error('Error fetching videos:', error);\n// }\n\n\n// }, [ascending]);\n\n\n// useEffect(() => {\n// fetchVideos();\n// }, [fetchVideos]);\n\n\n\n\n// const addVideoButton = (NewVideo) => {\n// setVideos([...videos, NewVideo]);\n// }\n\n\nconst handleUpVote = (videoId) => {\nconst updatedVideos = [...videos].map((video) => {\nif(video.id === videoId) {\nreturn {...video, rating: video.rating + 1 };\n} else {\nreturn video;\n}\n});\n\n\nsetVideos(updatedVideos)\n\n\n\n\n};\n\n\nconst handleDownVote = (videoId) => {\nconst updatedVideos = [...videos].map((video) => {\nif (video.id === videoId) {\nreturn {...video, rating: video.rating -1 };\n} else {\nreturn video;\n}\n});\n\n\nsetVideos(updatedVideos);\n};\n\n\nconst handleRemoveVideo = (videoId) => {\nconst updatedVideos = videos.filter((video) => video.id !== videoId);\nsetVideos(updatedVideos);\n};\n\n\nconst handleAddVideo = (newVideo) => {\nif (newVideo.title.trim() === '' || !isValidYouTubeUrl(newVideo.url)) {\nreturn;\n}\n\n\nconst now = new Date();\nnewVideo.uploadedDate = now.toISOString();\nsetVideos([...videos, newVideo]);\n};\n\n\nconst isValidYouTubeUrl = (url) => {\ntry {\nconst youtubeUrl = new URL(url);\nreturn (\nyoutubeUrl.hostname === 'www.youtube.com' ||\nyoutubeUrl.hostname === 'youtube.com'\n);\n} catch (error) {\nreturn false;\n}\n};\n// const handleChangeOrder = () => {\n// setAscending(prevAscending => !prevAscending)\n// };\n\n\nreturn (\n<div className=\"App\">\n<AddNewVideo addVideoButton={handleAddVideo} />\n<div>\n<h2>Add a New Video</h2>\n</div>\n<div className='video-list'>\n{videos.map((video) => (\n<div key={video.id} className='video-card'>\n<VideoDisplay\nvideo={video}\nhandleUpVote={handleUpVote}\nhandleDownVote={handleDownVote}\nhandleRemoveVideo={handleRemoveVideo}\n/>\n</div>\n))}\n</div>\n</div>\n);\n};\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}