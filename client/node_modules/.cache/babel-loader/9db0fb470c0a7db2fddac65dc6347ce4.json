{"ast":null,"code":"var _jsxFileName = \"/home/mele/CodeYourFuture/Directory/htmlcssweek4/Full-Stack-Project-Assessment/client/src/AllVideoDisplay.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction VideoComponent(_ref) {\n  let {\n    elements,\n    onLike,\n    onDislike,\n    onDelete,\n    setOrder,\n    sortOrder\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"ascendingButton\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn btn-light customBackground1 ${sortOrder === \"ascending\" ? \"active\" : \"\"}`,\n        onClick: () => setOrder(\"ascending\"),\n        children: \"Ascending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn btn-light customBackground1 ${sortOrder === \"descending\" ? \"active\" : \"\"}`,\n        onClick: () => setOrder(\"descending\"),\n        children: \"Descending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"videoDisplayContainer\",\n        children: /*#__PURE__*/_jsxDEV(VideoDisplay, {\n          elements: elements,\n          onLike: onLike,\n          onDislike: onDislike,\n          onDelete: onDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n}\n\n_c = VideoComponent;\n\nfunction VideoDisplay(_ref2) {\n  let {\n    elements,\n    onLike,\n    onDislike,\n    onDelete\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"videoDisplayContainer\",\n    children: [\" \", elements.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"displayGrid\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: element.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n        width: \"330\",\n        height: \"200\",\n        title: element.title,\n        border: \"none\",\n        \"border-radius\": \"103px\",\n        frameborder: \"0\",\n        allowfullscreen: true,\n        align: \"center\",\n        src: element.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"likedislikeBtn\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light customBackground5\",\n          onClick: () => onLike(element.id),\n          children: \"Like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Votes:\\xA0\", element.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light customBackground5\",\n          onClick: () => onDislike(element.id),\n          children: \"Dislike\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light deleteBtn\",\n        onClick: () => onDelete(element.id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, element.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = VideoDisplay;\nexport default function AllVideoDisplay() {\n  _s();\n\n  const [videoData, setVideoData] = useState([]);\n  const [sortOrder, setSortOrder] = useState(\"descending\");\n  useEffect(() => {\n    fetch(\"http://27.0.0.1:5000/videos\").then(response => response.json()).then(updatedData => {\n      setVideoData(updatedData);\n    }).catch(error => {\n      console.error(\"Error fetching data:\", error);\n    });\n  }, []);\n\n  const sortVideoData = () => {\n    const sortedData = [...videoData];\n\n    if (sortOrder === \"ascending\") {\n      sortedData.sort((a, b) => a.rating - b.rating);\n    } else {\n      sortedData.sort((a, b) => b.rating - a.rating);\n    }\n\n    return sortedData;\n  };\n\n  const handleLike = videoId => {\n    const updatedVideos = videoData.map(video => {\n      if (video.id === videoId) {\n        return { ...video,\n          rating: video.rating + 1\n        };\n      }\n\n      return video;\n    });\n    setVideoData(updatedVideos);\n    fetch(`/videos/${videoId}/like`, {\n      method: \"POST\"\n    });\n  };\n\n  const handleDislike = videoId => {\n    const updatedVideos = videoData.map(video => {\n      if (video.id === videoId) {\n        return { ...video,\n          rating: Math.max(video.rating - 1, 0)\n        };\n      }\n\n      return video;\n    });\n    setVideoData(updatedVideos);\n    fetch(`/videos/${videoId}/dislike`, {\n      method: \"POST\"\n    });\n  };\n\n  const handleDelete = async id => {\n    try {\n      const response = await fetch(`/videos/${id}`, {\n        method: \"DELETE\"\n      });\n\n      if (response.ok) {\n        setVideoData(videoData => videoData.filter(element => element.id !== id));\n      } else {\n        console.error(\"Error deleting video:\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting video:\", error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(VideoComponent, {\n    elements: sortVideoData(),\n    sortOrder: sortOrder,\n    setOrder: setSortOrder,\n    onLike: handleLike,\n    onDislike: handleDislike,\n    onDelete: handleDelete\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AllVideoDisplay, \"XcgidxduW9aoBLcxNLkSoXPrp+E=\");\n\n_c3 = AllVideoDisplay;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"VideoComponent\");\n$RefreshReg$(_c2, \"VideoDisplay\");\n$RefreshReg$(_c3, \"AllVideoDisplay\");","map":{"version":3,"sources":["/home/mele/CodeYourFuture/Directory/htmlcssweek4/Full-Stack-Project-Assessment/client/src/AllVideoDisplay.js"],"names":["React","useEffect","useState","VideoComponent","elements","onLike","onDislike","onDelete","setOrder","sortOrder","VideoDisplay","map","element","title","url","id","rating","AllVideoDisplay","videoData","setVideoData","setSortOrder","fetch","then","response","json","updatedData","catch","error","console","sortVideoData","sortedData","sort","a","b","handleLike","videoId","updatedVideos","video","method","handleDislike","Math","max","handleDelete","ok","filter"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nfunction VideoComponent({\n  elements,\n  onLike,\n  onDislike,\n  onDelete,\n  setOrder,\n  sortOrder,\n}) {\n  return (\n    <div>\n      <div id=\"ascendingButton\">\n        <button\n          className={`btn btn-light customBackground1 ${\n            sortOrder === \"ascending\" ? \"active\" : \"\"\n          }`}\n          onClick={() => setOrder(\"ascending\")}\n        >\n          Ascending\n        </button>\n        <button\n          className={`btn btn-light customBackground1 ${\n            sortOrder === \"descending\" ? \"active\" : \"\"\n          }`}\n          onClick={() => setOrder(\"descending\")}\n        >\n          Descending\n        </button>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"videoDisplayContainer\">\n          <VideoDisplay\n            elements={elements}\n            onLike={onLike}\n            onDislike={onDislike}\n            onDelete={onDelete}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction VideoDisplay({ elements, onLike, onDislike, onDelete }) {\n  return (\n    <div className=\"videoDisplayContainer\">\n      {\" \"}\n      {elements.map((element) => (\n        <div key={element.id} class=\"displayGrid\">\n          <h5>{element.title}</h5>\n\n          <iframe\n            width=\"330\"\n            height=\"200\"\n            title={element.title}\n            border=\"none\"\n            border-radius=\"103px\"\n            frameborder=\"0\"\n            allowfullscreen\n            align=\"center\"\n            src={element.url}\n          ></iframe>\n          <div className=\"likedislikeBtn\">\n            <button\n              className=\"btn btn-light customBackground5\"\n              onClick={() => onLike(element.id)}\n            >\n              Like\n            </button>\n            <span>Votes:&nbsp;{element.rating}</span>\n\n            <button\n              className=\"btn btn-light customBackground5\"\n              onClick={() => onDislike(element.id)}\n            >\n              Dislike\n            </button>\n          </div>\n          <button\n            className=\"btn btn-light deleteBtn\"\n            onClick={() => onDelete(element.id)}\n          >\n            Delete\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default function AllVideoDisplay() {\n  const [videoData, setVideoData] = useState([]);\n  const [sortOrder, setSortOrder] = useState(\"descending\");\n\n  useEffect(() => {\n    fetch(\"http://27.0.0.1:5000/videos\")\n      .then((response) => response.json())\n      .then((updatedData) => {\n        setVideoData(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, []);\n  const sortVideoData = () => {\n    const sortedData = [...videoData];\n\n    if (sortOrder === \"ascending\") {\n      sortedData.sort((a, b) => a.rating - b.rating);\n    } else {\n      sortedData.sort((a, b) => b.rating - a.rating);\n    }\n\n    return sortedData;\n  };\n\n  const handleLike = (videoId) => {\n    const updatedVideos = videoData.map((video) => {\n      if (video.id === videoId) {\n        return { ...video, rating: video.rating + 1 };\n      }\n      return video;\n    });\n    setVideoData(updatedVideos);\n\n    fetch(`/videos/${videoId}/like`, { method: \"POST\" });\n  };\n\n  const handleDislike = (videoId) => {\n    const updatedVideos = videoData.map((video) => {\n      if (video.id === videoId) {\n        return { ...video, rating: Math.max(video.rating - 1, 0) };\n      }\n      return video;\n    });\n    setVideoData(updatedVideos);\n\n    fetch(`/videos/${videoId}/dislike`, { method: \"POST\" });\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      const response = await fetch(`/videos/${id}`, { method: \"DELETE\" });\n      if (response.ok) {\n        setVideoData((videoData) =>\n          videoData.filter((element) => element.id !== id)\n        );\n      } else {\n        console.error(\"Error deleting video:\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting video:\", error);\n    }\n  };\n\n  return (\n    <VideoComponent\n      elements={sortVideoData()}\n      sortOrder={sortOrder}\n      setOrder={setSortOrder}\n      onLike={handleLike}\n      onDislike={handleDislike}\n      onDelete={handleDelete}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}