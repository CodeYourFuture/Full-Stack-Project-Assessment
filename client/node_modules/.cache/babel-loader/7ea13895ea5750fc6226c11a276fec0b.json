{"ast":null,"code":"import _asyncToGenerator from\"/home/mele/CodeYourFuture/Directory/htmlcssweek4/Full-Stack-Project-Assessment/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mele/CodeYourFuture/Directory/htmlcssweek4/Full-Stack-Project-Assessment/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/mele/CodeYourFuture/Directory/htmlcssweek4/Full-Stack-Project-Assessment/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import\"./App.css\";//console.log(dataVideo)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VideoComponent(_ref){var elements=_ref.elements;return/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"videoDisplayContainer\",children:elements.map(function(element,index){return/*#__PURE__*/_jsx(VideoDisplay,{element:element},index);})})});}function VideoDisplay(_ref2){var element=_ref2.element;var _useState=useState(element.rating),_useState2=_slicedToArray(_useState,2),score=_useState2[0],setScore=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),videoData=_useState4[0],setVideoData=_useState4[1];////////////////////////////////////////\nuseEffect(function(){fetch(\"/videos\").then(function(response){return response.json();}).then(function(updatedData){setVideoData(updatedData);}).catch(function(error){console.error(\"Error fetching data:\",error);});},[]);var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"hi\");_context.prev=1;_context.next=4;return fetch(\"/videos/\".concat(id),{method:\"DELETE\"});case 4:response=_context.sent;if(response.ok){setVideoData(videoData.filter(function(element){return element.id!==id;}));}else{console.error(\"Error deleting video:\");}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"Error deleting video:\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleDelete(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{class:\"displayGrid\",children:[/*#__PURE__*/_jsx(\"h5\",{children:element.title}),/*#__PURE__*/_jsx(\"iframe\",{width:\"330\",height:\"200\",src:element.url,title:element.title,border:\"none\",\"border-radius\":\"103px\",frameborder:\"0\",allowfullscreen:true,align:\"center\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"likedislikeBtn\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"#0\",class:\"btn btn-info btn-lg\",onClick:function onClick(){return setScore(function(s){return s+1;});},children:[/*#__PURE__*/_jsx(\"span\",{class:\"glyphicon glyphicon-thumbs-up\"}),\" Like\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Votes:\\xA0\",score]}),/*#__PURE__*/_jsxs(\"a\",{href:\"#0\",class:\"btn btn-info btn-lg\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"glyphicon glyphicon-thumbs-down\",onClick:function onClick(){return setScore(function(s){return s-1;});}}),\"Dislike\"]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"deleteBtn\",onClick:function onClick(){return handleDelete(element.id);},children:\"Delete\"})]});}export default function AllVideoDisplay(){var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),videoData=_useState6[0],setVideoData=_useState6[1];useEffect(function(){fetch(\"/videos\").then(function(response){return response.json();}).then(function(updatedData){setVideoData(updatedData);}).catch(function(error){console.error(\"Error fetching data:\",error);});},[]);return/*#__PURE__*/_jsx(VideoComponent,{elements:videoData.sort(function(a,b){return b.rating-a.rating;})});}","map":{"version":3,"sources":["/home/mele/CodeYourFuture/Directory/htmlcssweek4/Full-Stack-Project-Assessment/client/src/AllVideoDisplay.js"],"names":["React","useEffect","useState","VideoComponent","elements","map","element","index","VideoDisplay","rating","score","setScore","videoData","setVideoData","fetch","then","response","json","updatedData","catch","error","console","handleDelete","id","log","method","ok","filter","title","url","s","AllVideoDisplay","sort","a","b"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\n//console.log(dataVideo)\nfunction VideoComponent({ elements }) {\n  return (\n    <div class=\"container\">\n      <div class=\"videoDisplayContainer\">\n        {elements.map((element, index) => (\n          <VideoDisplay key={index} element={element} />\n        ))}\n      </div>\n    </div>\n  );\n}\nfunction VideoDisplay({ element }) {\n  const [score, setScore] = useState(element.rating);\n  const [videoData, setVideoData] = useState([]);\n  ////////////////////////////////////////\n  useEffect(() => {\n    fetch(\"/videos\")\n      .then((response) => response.json())\n      .then((updatedData) => {\n        setVideoData(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, []);\n\n  const handleDelete = async (id) => {\n    console.log(\"hi\");\n    try {\n      const response = await fetch(`/videos/${id}`, { method: \"DELETE\" });\n      if (response.ok) {\n        setVideoData(videoData.filter((element) => element.id !== id));\n      } else {\n        console.error(\"Error deleting video:\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting video:\", error);\n    }\n  };\n\n  return (\n    <div class=\"displayGrid\">\n      <h5>{element.title}</h5>\n\n      <iframe\n        width=\"330\"\n        height=\"200\"\n        src={element.url}\n        title={element.title}\n        border=\"none\"\n        border-radius=\"103px\"\n        frameborder=\"0\"\n        allowfullscreen\n        align=\"center\"\n      ></iframe>\n      <div class=\"likedislikeBtn\">\n        <a\n          href=\"#0\"\n          class=\"btn btn-info btn-lg\"\n          onClick={() => setScore((s) => s + 1)}\n        >\n          <span class=\"glyphicon glyphicon-thumbs-up\"></span> Like\n        </a>\n        <p>Votes:&nbsp;{score}</p>\n\n        <a href=\"#0\" class=\"btn btn-info btn-lg\">\n          <span\n            class=\"glyphicon glyphicon-thumbs-down\"\n            onClick={() => setScore((s) => s - 1)}\n          ></span>\n          Dislike\n        </a>\n      </div>\n      <button class=\"deleteBtn\" onClick={() => handleDelete(element.id)}>\n        Delete\n      </button>\n    </div>\n  );\n}\n\nexport default function AllVideoDisplay() {\n  const [videoData, setVideoData] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/videos\")\n      .then((response) => response.json())\n      .then((updatedData) => {\n        setVideoData(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, []);\n\n  return (\n    <VideoComponent elements={videoData.sort((a, b) => b.rating - a.rating)} />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}