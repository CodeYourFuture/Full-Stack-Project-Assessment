{"ast":null,"code":"import _toConsumableArray from\"/home/coder/Documents/CYF1/Full-Stack-Project-Assessment/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/coder/Documents/CYF1/Full-Stack-Project-Assessment/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/coder/Documents/CYF1/Full-Stack-Project-Assessment/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./styles.css\";import Video from\"./Video\";import AddVideo from\"./AddVideo\";// import videosData from \"./exampleresponse.json\";// I comment this line inoder to import data from the server//\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),videos=_useState2[0],setVideos=_useState2[1];var _useState3=useState(\"desc\"),_useState4=_slicedToArray(_useState3,2),order=_useState4[0],setOrder=_useState4[1];//Order line desc or asc\nuseEffect(function(){// Fetch data from the API when the component mounts\nfetch(\"http://127.0.0.1:5000/videos\").then(function(response){return response.json();}).then(function(data){// Sort the data based on the order state\nvar sortedData=order===\"desc\"?data.sort(function(a,b){return b.votes-a.votes;}):data.sort(function(a,b){return a.votes-b.votes;});setVideos(sortedData);}).catch(function(error){return console.error(\"Error fetching data:\",error);});},[order]);var toggleOrder=function toggleOrder(){setOrder(order===\"desc\"?\"asc\":\"desc\");};var handleVote=function handleVote(id,increment){setVideos(function(prevVideos){return prevVideos.map(function(video){return video.id===id?_objectSpread(_objectSpread({},video),{},{votes:video.votes+increment}):video;});});};var handleRemove=function handleRemove(id){setVideos(function(prevVideos){return prevVideos.filter(function(video){return video.id!==id;});});};var handleAddVideo=function handleAddVideo(newVideo){var id=videos.length+1;var currentDate=new Date().toISOString();setVideos([].concat(_toConsumableArray(videos),[_objectSpread(_objectSpread({},newVideo),{},{id:id,votes:0,uploadDate:currentDate})]));};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header-video\",children:\"Video Recommendation\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleOrder,children:order===\"desc\"?\"Order Ascending\":\"Order Descending\"}),videos.map(function(video){return/*#__PURE__*/_jsx(Video,{video:video,onVoteUp:function onVoteUp(){return handleVote(video.id,1);},onVoteDown:function onVoteDown(){return handleVote(video.id,-1);},onRemove:function onRemove(){return handleRemove(video.id);}},video.id);}),/*#__PURE__*/_jsx(AddVideo,{onAddVideo:handleAddVideo})]})});}export default App;","map":{"version":3,"sources":["/home/coder/Documents/CYF1/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useState","useEffect","Video","AddVideo","App","videos","setVideos","order","setOrder","fetch","then","response","json","data","sortedData","sort","a","b","votes","catch","error","console","toggleOrder","handleVote","id","increment","prevVideos","map","video","handleRemove","filter","handleAddVideo","newVideo","length","currentDate","Date","toISOString","uploadDate"],"mappings":"scAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA;wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOK,MAAP,eAAeC,SAAf,eACA,eAA0BN,QAAQ,CAAC,MAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAA4C;AAE5CP,SAAS,CAAC,UAAM,CACd;AACAQ,KAAK,CAAC,8BAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACd;AACA,GAAMC,CAAAA,UAAU,CACdP,KAAK,GAAK,MAAV,CACIM,IAAI,CAACE,IAAL,CAAU,SAACC,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAACC,KAAF,CAAUF,CAAC,CAACE,KAAtB,EAAV,CADJ,CAEIL,IAAI,CAACE,IAAL,CAAU,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAtB,EAAV,CAHN,CAIAZ,SAAS,CAACQ,UAAD,CAAT,CACD,CATH,EAUGK,KAVH,CAUS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACD,KAAR,CAAc,sBAAd,CAAsCA,KAAtC,CAAX,EAVT,EAWD,CAbQ,CAaN,CAACb,KAAD,CAbM,CAAT,CAeA,GAAMe,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBd,QAAQ,CAACD,KAAK,GAAK,MAAV,CAAmB,KAAnB,CAA2B,MAA5B,CAAR,CACD,CAFD,CAIA,GAAMgB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAKC,SAAL,CAAmB,CACpCnB,SAAS,CAAC,SAACoB,UAAD,QACRA,CAAAA,UAAU,CAACC,GAAX,CAAe,SAACC,KAAD,QACbA,CAAAA,KAAK,CAACJ,EAAN,GAAaA,EAAb,gCAAuBI,KAAvB,MAA8BV,KAAK,CAAEU,KAAK,CAACV,KAAN,CAAcO,SAAnD,GAAiEG,KADpD,EAAf,CADQ,EAAD,CAAT,CAKD,CAND,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,EAAD,CAAQ,CAC3BlB,SAAS,CAAC,SAACoB,UAAD,QAAgBA,CAAAA,UAAU,CAACI,MAAX,CAAkB,SAACF,KAAD,QAAWA,CAAAA,KAAK,CAACJ,EAAN,GAAaA,EAAxB,EAAlB,CAAhB,EAAD,CAAT,CACD,CAFD,CAIA,GAAMO,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,QAAD,CAAc,CACnC,GAAMR,CAAAA,EAAE,CAAGnB,MAAM,CAAC4B,MAAP,CAAgB,CAA3B,CACA,GAAMC,CAAAA,WAAW,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,EAApB,CACA9B,SAAS,8BACJD,MADI,kCAEF2B,QAFE,MAEQR,EAAE,CAAFA,EAFR,CAEYN,KAAK,CAAE,CAFnB,CAEsBmB,UAAU,CAAEH,WAFlC,KAAT,CAID,CAPD,CASA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,gBAAQ,SAAS,CAAC,YAAlB,wBACE,WAAI,SAAS,CAAC,cAAd,UAA6B,sBAA7B,EADF,cAEE,eAAQ,OAAO,CAAEZ,WAAjB,UACGf,KAAK,GAAK,MAAV,CAAmB,iBAAnB,CAAuC,kBAD1C,EAFF,CAKGF,MAAM,CAACsB,GAAP,CAAW,SAACC,KAAD,qBACV,KAAC,KAAD,EAEE,KAAK,CAAEA,KAFT,CAGE,QAAQ,CAAE,0BAAML,CAAAA,UAAU,CAACK,KAAK,CAACJ,EAAP,CAAW,CAAX,CAAhB,EAHZ,CAIE,UAAU,CAAE,4BAAMD,CAAAA,UAAU,CAACK,KAAK,CAACJ,EAAP,CAAW,CAAC,CAAZ,CAAhB,EAJd,CAKE,QAAQ,CAAE,0BAAMK,CAAAA,YAAY,CAACD,KAAK,CAACJ,EAAP,CAAlB,EALZ,EACOI,KAAK,CAACJ,EADb,CADU,EAAX,CALH,cAcE,KAAC,QAAD,EAAU,UAAU,CAAEO,cAAtB,EAdF,GADF,EADF,CAoBD,CAED,cAAe3B,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./styles.css\";\nimport Video from \"./Video\";\nimport AddVideo from \"./AddVideo\";\n// import videosData from \"./exampleresponse.json\";// I comment this line inoder to import data from the server//\n\nfunction App() {\n  const [videos, setVideos] = useState([]);\n  const [order, setOrder] = useState(\"desc\"); //Order line desc or asc\n\n  useEffect(() => {\n    // Fetch data from the API when the component mounts\n    fetch(\"http://127.0.0.1:5000/videos\")\n      .then((response) => response.json())\n      .then((data) => {\n        // Sort the data based on the order state\n        const sortedData =\n          order === \"desc\"\n            ? data.sort((a, b) => b.votes - a.votes)\n            : data.sort((a, b) => a.votes - b.votes);\n        setVideos(sortedData);\n      })\n      .catch((error) => console.error(\"Error fetching data:\", error));\n  }, [order]);\n\n  const toggleOrder = () => {\n    setOrder(order === \"desc\" ? \"asc\" : \"desc\");\n  };\n\n  const handleVote = (id, increment) => {\n    setVideos((prevVideos) =>\n      prevVideos.map((video) =>\n        video.id === id ? { ...video, votes: video.votes + increment } : video\n      )\n    );\n  };\n\n  const handleRemove = (id) => {\n    setVideos((prevVideos) => prevVideos.filter((video) => video.id !== id));\n  };\n\n  const handleAddVideo = (newVideo) => {\n    const id = videos.length + 1;\n    const currentDate = new Date().toISOString();\n    setVideos([\n      ...videos,\n      { ...newVideo, id, votes: 0, uploadDate: currentDate },\n    ]);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1 className=\"header-video\">Video Recommendation</h1>\n        <button onClick={toggleOrder}>\n          {order === \"desc\" ? \"Order Ascending\" : \"Order Descending\"}\n        </button>\n        {videos.map((video) => (\n          <Video\n            key={video.id}\n            video={video}\n            onVoteUp={() => handleVote(video.id, 1)}\n            onVoteDown={() => handleVote(video.id, -1)}\n            onRemove={() => handleRemove(video.id)}\n          />\n        ))}\n        <AddVideo onAddVideo={handleAddVideo} />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}