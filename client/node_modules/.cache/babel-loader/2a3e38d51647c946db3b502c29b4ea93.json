{"ast":null,"code":"var _jsxFileName = \"/Users/anuthapaliya/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css'; // import videosData from './exampleresponse.json';\n\nimport AddNewVideo from './AddNewVideo';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [videos, setVideos] = useState([]);\n  const [ascending, setAscending] = useState(false); // videosData.sort((a,b) => b.rating - a.rating)\n\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/videos');\n      setVideos(response.data);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n    }\n  };\n\n  const addVideoButton = NewVideo => {\n    setVideos([...videos, NewVideo]);\n  };\n\n  const handleUpVote = id => {\n    const updatedVideos = [...videos].map(video => {\n      if (video.id === id) {\n        return { ...video,\n          rating: video.rating + 1\n        };\n      } else {\n        return video;\n      }\n    });\n    setVideos(updatedVideos.sort((a, b) => b.rating - a.rating));\n  };\n\n  const handleDownVote = id => {\n    const updatedVideos = [...videos].map(video => {\n      if (video.id === id) {\n        return { ...video,\n          rating: video.rating - 1\n        };\n      } else {\n        return video;\n      }\n    });\n    setVideos(updatedVideos.sort((a, b) => b.rating - a.rating));\n  };\n\n  const handleRemoveVideo = id => {\n    const updatedVideos = videos.filter(video => video.id !== id);\n    setVideos(updatedVideos);\n  };\n\n  const handleChangeOrder = () => {\n    if (ascending) {\n      setAscending(false);\n    } else {\n      setAscending(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Video Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddNewVideo, {\n      addVideoButton: addVideoButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-list\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: video.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          width: \"560\",\n          height: \"315\",\n          src: `https://www.youtube.com/embed/${video.url.split('v=')[1]}`,\n          title: video.title,\n          frameBorder: \"0\",\n          allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Rating: \", video.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Uploaded Date: \", new Date(video.uploadDate).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpVote(video.id),\n          children: \"Up Vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDownVote(video.id),\n          children: \"Down Vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRemoveVideo(video.id),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleChangeOrder,\n          children: [\"if(orderAscending) \", orderAsc]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this)]\n      }, video.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"UkbYLEWupRLzaYRVvsgi2GO/R8Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/anuthapaliya/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useState","useEffect","AddNewVideo","axios","App","videos","setVideos","ascending","setAscending","fetchVideos","response","get","data","error","console","addVideoButton","NewVideo","handleUpVote","id","updatedVideos","map","video","rating","sort","a","b","handleDownVote","handleRemoveVideo","filter","handleChangeOrder","title","url","split","Date","uploadDate","toLocaleString","orderAsc"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n// import videosData from './exampleresponse.json';\nimport AddNewVideo from './AddNewVideo';\nimport axios from 'axios';\n\nfunction App() {\n  const [videos, setVideos] = useState([]);\n  const [ascending, setAscending] = useState(false);\n  // videosData.sort((a,b) => b.rating - a.rating)\n\n\n\nuseEffect(() => {\n  fetchVideos();\n}, []);\n\nconst fetchVideos = async () => {\n  try {\n    const response = await axios.get('http://localhost:8000/videos');\n    setVideos(response.data);\n  } catch (error) {\n    console.error('Error fetching videos:', error);\n  }\n};\n\n\n  const addVideoButton = (NewVideo) => {\n    setVideos([...videos, NewVideo]);\n  }\n\n  const handleUpVote = (id) => {\n    const updatedVideos = [...videos].map((video) => {\n    if(video.id === id) {\n        return {...video, rating: video.rating + 1 };\n    } else {\n      return video;\n    }\n  });\n    \n\n  setVideos(updatedVideos.sort((a, b) => b.rating - a.rating));\n\n  \n\n};\n\nconst handleDownVote = (id) => {\n  const updatedVideos = [...videos].map((video) => {\n    if (video.id === id) {\n      return {...video, rating: video.rating -1 };\n    } else {\n      return video;\n    }\n  });\n\n setVideos(updatedVideos.sort((a, b) => b.rating - a.rating));\n\n\n \n  };\n\n  const handleRemoveVideo = (id) => {\n    const updatedVideos = videos.filter((video) => video.id !== id);\n    setVideos(updatedVideos);\n  };\n\n  const handleChangeOrder = () => {\n    if(ascending) {\n      setAscending(false)\n    } else {\n      setAscending(true);\n    }\n  }\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Video Recommendation</h1>\n      </header>\n\n      <AddNewVideo addVideoButton={addVideoButton} /> \n       <div className='video-list'> \n        \n        {videos.map((video) => (\n         <div key={video.id} className='video-card'>\n          <h2>{video.title}</h2>\n          <iframe\n          width=\"560\"\n          height=\"315\"\n         src={`https://www.youtube.com/embed/${video.url.split('v=')[1]}`}\n          title={video.title}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen></iframe>\n          <p>Rating: {video.rating}</p>\n          <p>Uploaded Date: {new Date(video.uploadDate).toLocaleString()}</p>\n          \n        <button onClick={() => handleUpVote(video.id)}>Up Vote</button>\n        <button onClick={() => handleDownVote(video.id)}>Down Vote</button>\n        <button onClick={() => handleRemoveVideo(video.id)}>Remove</button>\n        <button onClick={handleChangeOrder}>\n            if(orderAscending) {\n              orderAsc\n            }\n\n        </button>\n</div>\n        ))}\n      </div>\n  \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}