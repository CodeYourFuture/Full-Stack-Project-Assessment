{"ast":null,"code":"var _jsxFileName = \"/home/howard/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport React, { useState, useEffect } from \"react\"; // import data from './data';\n\nimport Video from './Video';\nimport AddVideo from \"./AddVideo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [videos, setVideos] = useState([]);\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/\");\n      const data = await response.json();\n      setVideos(data);\n    } catch (error) {\n      console.error(\"Error fetching videos:\", error);\n    }\n  };\n\n  const handleRemoveVideo = async id => {\n    try {\n      await fetch(`http://127.0.0.1:5000/${id}`, {\n        method: \"DELETE\"\n      });\n      setVideos(videos.filter(video => video.id !== id));\n    } catch (error) {\n      console.error(\"Error deleting video:\", error);\n    }\n  };\n\n  function handleUpVote(id) {\n    setVideos(videos.map(video => {\n      if (video.id === id) {\n        return { ...video,\n          rating: video.rating + 1\n        };\n      }\n\n      return video;\n    }));\n  }\n\n  function handleDownVote(id) {\n    setVideos(videos.map(video => {\n      if (video.id === id) {\n        return { ...video,\n          rating: Math.max(0, video.rating - 1)\n        };\n      }\n\n      return video;\n    }));\n  }\n\n  function handleAddVideo(video) {\n    setVideos([...videos, {\n      id: videos.length + 1,\n      ...video\n    }]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Video Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AddVideo, {\n        onAdd: handleAddVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(Video, {\n        video: video,\n        onRemove: () => handleRemoveVideo(video.id),\n        onUpVote: () => handleUpVote(video.id),\n        onDownVote: () => handleDownVote(video.id)\n      }, video.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"39g9r2hk3cJXA16k+db4Z3Rqykw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/howard/Documents/GitHub/Full-Stack-Project-Assessment/client/src/App.js"],"names":["React","useState","useEffect","Video","AddVideo","App","videos","setVideos","fetchVideos","response","fetch","data","json","error","console","handleRemoveVideo","id","method","filter","video","handleUpVote","map","rating","handleDownVote","Math","max","handleAddVideo","length"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport React, { useState, useEffect} from \"react\";\n// import data from './data';\nimport Video from './Video';\nimport AddVideo from \"./AddVideo\";\n\nfunction App() {\n\nconst [videos, setVideos] = useState([]);\nuseEffect(() => {\n  fetchVideos();\n},[]);\n\nconst fetchVideos = async () => {\n  try {\n    const response = await fetch(\"http://127.0.0.1:5000/\");\n    const data = await response.json();\n    setVideos(data);\n  } catch (error) {\n    console.error(\"Error fetching videos:\", error);\n  }\n};\n\nconst handleRemoveVideo = async (id) => {\n  try {\n    await fetch(`http://127.0.0.1:5000/${id}`, { method: \"DELETE\" });\n    setVideos(videos.filter((video) => video.id !== id));\n  } catch (error) {\n    console.error(\"Error deleting video:\", error);\n  }\n};\n\nfunction handleUpVote(id) {\n  setVideos(\n    videos.map((video) => {\n      if (video.id === id) {\n        return { ...video, rating: video.rating + 1 };\n      }\n      return video;\n    })\n  );\n}\n\nfunction handleDownVote(id) {\n  setVideos(\n    videos.map((video) => {\n      if (video.id === id) {\n        return { ...video, rating: Math.max(0, video.rating - 1) };\n      }\n      return video;\n    })\n  );\n}\n\nfunction handleAddVideo(video) {\n  setVideos([...videos, { id:videos.length +1, ...video }]);\n}\n\n  return (\n    <>\n    <div className=\"App-header\">\n      <h1>Video Recommendation</h1>\n      <AddVideo onAdd={handleAddVideo} />\n    </div>\n    <div className =\"App\">  \n      {videos.map((video) => (\n        <Video\n        key={video.id}\n        video={video}\n        onRemove={() => handleRemoveVideo(video.id)}\n        onUpVote={() => handleUpVote(video.id)}\n        onDownVote={() => handleDownVote(video.id)}\n        />\n        ))}\n        \n      </div>\n      </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}