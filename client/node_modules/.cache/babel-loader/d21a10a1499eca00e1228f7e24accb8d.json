{"ast":null,"code":"var _jsxFileName = \"/Users/mehmetomer/Documents/GitHub/Full-Stack-Project-Assessment/client/src/component/ShowingVideos.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ShowingVideos() {\n  _s();\n\n  const [videos, setVideos] = useState([]);\n  const [orderBy, setOrderBy] = useState(\"desc\");\n  useEffect(() => {\n    fetch(\"https://node-js-full-stack-project-assessment.onrender.com/videos\").then(response => response.json()).then(data => {\n      // setVideos([])\n      setVideos(data);\n      console.log(\"lin 12,\", data);\n    }).catch(error => {\n      console.error(\"Error fetching data:\", error);\n    });\n  }, [videos]);\n\n  const toggleOrder = () => {\n    setOrderBy(orderBy === \"asc\" ? \"desc\" : \"asc\");\n  };\n\n  const convertToEmbedUrl = url => {\n    const videoId = url.split(\"v=\")[1];\n    return `https://www.youtube.com/embed/${videoId}`;\n  };\n\n  const deleteVideo = id => {\n    fetch(`https://node-js-full-stack-project-assessment.onrender.com/videos/${id}`, {\n      method: \"DELETE\"\n    }).then(response => {\n      return response.json();\n    }).then(() => {\n      setVideos(prevVideos => prevVideos.filter(video => video.id !== id));\n    }).catch(error => {\n      console.error(\"Error deleting video:\", error);\n    });\n  };\n\n  const handleRating = (id, type) => {\n    fetch(`https://node-js-full-stack-project-assessment.onrender.com/rate/${id}/${type}`, {\n      method: \"PUT\"\n    }).then(response => {\n      return response.json();\n    }).then(updatedRating => {\n      setVideos(prevVideos => prevVideos.map(video => {\n        if (video.id === id) {\n          return { ...video,\n            rating: updatedRating.rating\n          };\n        }\n\n        console.log(\"lin 65\", video);\n        return video;\n      }));\n    }).catch(error => {\n      console.error(\"Error updating rating:\", error);\n    });\n  };\n\n  const sortedVideos = [...videos].sort((a, b) => {\n    if (orderBy === \"asc\") {\n      return a.rating - b.rating;\n    } else {\n      return b.rating - a.rating;\n    }\n  }); /////////////////////////////////\n\n  console.log(\"line 79\", videos);\n  console.log(\"lin 80\", sortedVideos); ///////////////////////////////////\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ShowingVideos\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleOrder,\n      className: \"Ordes\",\n      children: orderBy === \"asc\" ? \"Order Ascending\" : \"Order Descending\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), sortedVideos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"videos\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: console.log(\"line 93\", video)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: video.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-thumbs-up\",\n          onClick: () => handleRating(video.id, \"up\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: video.rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-thumbs-down\",\n          onClick: () => handleRating(video.id, \"down\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n        className: \"allVideos\",\n        width: \"300\",\n        height: \"220\",\n        src: convertToEmbedUrl(video.url),\n        title: video.title,\n        frameBorder: \"0\",\n        allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n        allowFullScreen: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteVideo(video.id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, video.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShowingVideos, \"oO/dRP0bhbnX51KVt1r27sjnlVk=\");\n\n_c = ShowingVideos;\nexport default ShowingVideos;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowingVideos\");","map":{"version":3,"sources":["/Users/mehmetomer/Documents/GitHub/Full-Stack-Project-Assessment/client/src/component/ShowingVideos.jsx"],"names":["React","useState","useEffect","ShowingVideos","videos","setVideos","orderBy","setOrderBy","fetch","then","response","json","data","console","log","catch","error","toggleOrder","convertToEmbedUrl","url","videoId","split","deleteVideo","id","method","prevVideos","filter","video","handleRating","type","updatedRating","map","rating","sortedVideos","sort","a","b","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction ShowingVideos() {\n  const [videos, setVideos] = useState([]);\n  const [orderBy, setOrderBy] = useState(\"desc\");\n\n  useEffect(() => {\n    fetch(\"https://node-js-full-stack-project-assessment.onrender.com/videos\")\n      .then((response) => response.json())\n      .then((data) => {\n        // setVideos([])\n        setVideos(data);\n        console.log(\"lin 12,\", data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, [videos]);\n\n  const toggleOrder = () => {\n    setOrderBy(orderBy === \"asc\" ? \"desc\" : \"asc\");\n  };\n\n  const convertToEmbedUrl = (url) => {\n    const videoId = url.split(\"v=\")[1];\n    return `https://www.youtube.com/embed/${videoId}`;\n  };\n\n  const deleteVideo = (id) => {\n    fetch(\n      `https://node-js-full-stack-project-assessment.onrender.com/videos/${id}`,\n      {\n        method: \"DELETE\",\n      }\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then(() => {\n        setVideos((prevVideos) =>\n          prevVideos.filter((video) => video.id !== id)\n        );\n      })\n      .catch((error) => {\n        console.error(\"Error deleting video:\", error);\n      });\n  };\n\n  const handleRating = (id, type) => {\n    fetch(\n      `https://node-js-full-stack-project-assessment.onrender.com/rate/${id}/${type}`,\n      {\n        method: \"PUT\",\n      }\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((updatedRating) => {\n        setVideos((prevVideos) =>\n          prevVideos.map((video) => {\n            if (video.id === id) {\n              return { ...video, rating: updatedRating.rating };\n            }\n            console.log(\"lin 65\", video);\n            return video;\n          })\n        );\n      })\n      .catch((error) => {\n        console.error(\"Error updating rating:\", error);\n      });\n  };\n\n  const sortedVideos = [...videos].sort((a, b) => {\n    if (orderBy === \"asc\") {\n      return a.rating - b.rating;\n    } else {\n      return b.rating - a.rating;\n    }\n  });\n  /////////////////////////////////\n  console.log(\"line 79\", videos);\n  console.log(\"lin 80\", sortedVideos);\n  ///////////////////////////////////\n\n  return (\n    <div className=\"ShowingVideos\">\n      <button onClick={toggleOrder} className=\"Ordes\">\n        {orderBy === \"asc\" ? \"Order Ascending\" : \"Order Descending\"}\n      </button>\n\n      {sortedVideos.map((video) => (\n        <div className=\"videos\" key={video.id}>\n          {/* ///////////////////// */}\n          <p>{console.log(\"line 93\", video)}</p>\n          <p>{video.title}</p>\n          <div className=\"buttons\">\n            <i\n              className=\"fa-solid fa-thumbs-up\"\n              onClick={() => handleRating(video.id, \"up\")}\n            ></i>\n            <h4>{video.rating}</h4>\n            <i\n              className=\"fa-solid fa-thumbs-down\"\n              onClick={() => handleRating(video.id, \"down\")}\n            ></i>\n          </div>\n\n          <iframe\n            className=\"allVideos\"\n            width=\"300\"\n            height=\"220\"\n            src={convertToEmbedUrl(video.url)}\n            title={video.title}\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n          ></iframe>\n          <button onClick={() => deleteVideo(video.id)}>Delete</button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ShowingVideos;"]},"metadata":{},"sourceType":"module"}